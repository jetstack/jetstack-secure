suite: test the contents of the config.yaml
templates:
  - configmap.yaml
  - NOTES.txt
release:
  name: test
  namespace: test-ns
tests:
  - it: defaults
    asserts:
      - matchSnapshot: {}

  - it: custom-period
    set:
      config.period: 1m
    asserts:
      - matchSnapshot: {}

  - it: custom-cluster-name
    set:
      config.clusterName: "cluster-1 region-1 cloud-1 "
    asserts:
      - matchSnapshot: {}

  - it: custom-cluster-description
    set:
      config.clusterDescription: |
        A cloud hosted Kubernetes cluster hosting production workloads.

        team: team-1
        email: team-1@example.com
        purpose: Production workloads
    asserts:
      - matchSnapshot: {}

  - it: custom-configmap
    set:
      config:
        configmap:
          name: agent-custom-config
    asserts:
      - matchSnapshotRaw: {}
